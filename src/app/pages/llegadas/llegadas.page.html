<ion-header>
  <ion-toolbar style="--background: white;">
    <ion-buttons slot="start">
      <ion-back-button style="color: black;"></ion-back-button>
    </ion-buttons>
    <ion-title style="color: black;">Docente</ion-title>

    <ion-buttons slot="end" class="toolbar-buttons">
      <ion-button routerLink="/home" class="menu-button">
        <ion-icon slot="start" name="home-outline" style="color: black;"></ion-icon>
        <span class="button-text" style="color: black;">Inicio</span>
      </ion-button>

      <ion-button routerLink="/alumnos" class="menu-button">
        <ion-icon slot="start" name="people-outline" style="color: black;"></ion-icon>
        <span class="button-text" style="color: black;">Alumnos</span>
      </ion-button>

      <ion-button routerLink="/docente" class="menu-button">
        <ion-icon slot="start" name="school-outline" style="color: black;"></ion-icon>
        <span class="button-text" style="color: black;">Docentes</span>
      </ion-button>

      <ion-button routerLink="/autorizadas" class="menu-button">
        <ion-icon slot="start" name="lock-closed-outline" style="color: black;"></ion-icon>
        <span class="button-text" style="color: black;">Autorizadas</span>
      </ion-button>

      <ion-button routerLink="/salon" class="menu-button">
        <ion-icon slot="start" name="business-outline" style="color: black;"></ion-icon>
        <span class="button-text" style="color: black;">Salones</span>
      </ion-button>

      <ion-button class="logout-button" (click)="logout()">
        <ion-icon slot="start" name="log-out-outline" style="color: black;"></ion-icon>
        <span class="button-text" style="color: black;">Cerrar sesión</span>
      </ion-button>

      <ion-button (click)="openMenu($event)" class="more-button">
        <ion-icon name="menu-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-popover #popover [isOpen]="isMenuOpen" (didDismiss)="isMenuOpen = false">
  <ng-template>
    <ion-content >
      <ion-list style=" background-color: rgb(231, 230, 230)">
        <ion-item button routerLink="/home">
          <ion-icon style="color: black;" name="home-outline" slot="start"></ion-icon>
          <ion-label>Inicio</ion-label>
        </ion-item>

        <ion-item button routerLink="/alumnos">
          <ion-icon style="color: black;" name="people-outline" slot="start"></ion-icon>
          <ion-label>Alumnos</ion-label>
        </ion-item>        

        <ion-item button routerLink="/docente">
          <ion-icon style="color: black;" name="school-outline" slot="start"></ion-icon>
          <ion-label>Docentes</ion-label>
        </ion-item>

        <ion-item button routerLink="/autorizadas">
          <ion-icon style="color: black;" name="lock-closed-outline" slot="start"></ion-icon>
          <ion-label>Autorizadas</ion-label>
        </ion-item>

        <ion-item button routerLink="/salon">
          <ion-icon style="color: black;" name="business-outline" slot="start"></ion-icon>
          <ion-label>Salones</ion-label>
        </ion-item>

        <ion-item button (click)="logout()">
          <ion-icon style="color: black;" name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Cerrar sesión</ion-label>
        </ion-item>

      </ion-list>
    </ion-content>
  </ng-template>
</ion-popover>

<ion-content class="ion-padding soft-bg" style="--background: #f4f4f4;">
  <section class="inferior-section">
    <div class="autorizadas-wrapper">
      <h3 style="color: black; text-align: center;">Registro de Llegadas</h3>

      <ion-card class="white-card" *ngIf="llegadas">
        <ion-card-content>

          <!-- CONTENEDOR HORIZONTAL -->
          <div class="row-info">
            <!-- FECHA Y HORA -->
            <div class="info-bloque">
              <h4 class="section-title">Fecha y Hora</h4>
              <p><strong>Fecha:</strong> {{ llegadas.horaLlegada | date: 'fullDate' }}</p>
              <p><strong>Hora de llegada:</strong> {{ llegadas.horaLlegada | date: 'shortTime' }}</p>
              <p><strong>Hora de entrega:</strong> {{ llegadas.horaEntrega | date: 'shortTime' }}</p>
            </div>

            <!-- ALUMNO -->
            <div class="info-bloque" *ngIf="llegadas.alumno">
              <h4 class="section-title">Alumno recogido</h4>
              <div class="info-card-header">
                <div class="photo-placeholder redondo">
                  <img *ngIf="llegadas.alumno.foto && llegadas.alumno.foto[0]?.url"
                       [src]="'http://localhost:1337' + llegadas.alumno.foto[0].url"
                       alt="Foto del alumno">
                </div>
                <div class="info-texto">
                  <p>{{ llegadas.alumno.nombre }} {{ llegadas.alumno.apellido }}</p>
                </div>
              </div>
            </div>

            <!-- DOCENTE -->
            <div class="info-bloque" *ngIf="llegadas.docente">
              <h4 class="section-title">Docente encargado</h4>
              <div class="info-card-header">
                <div class="photo-placeholder redondo">
                  <img *ngIf="llegadas.docente.foto && llegadas.docente.foto[0]?.url"
                       [src]="'http://localhost:1337' + llegadas.docente.foto[0].url"
                       alt="Foto del docente">
                </div>
                <div class="info-texto">
                  <p>{{ llegadas.docente.nombre }} {{ llegadas.docente.apellido }}</p>
                </div>
              </div>
            </div>
          </div>

        </ion-card-content>
      </ion-card>
    </div>
  </section>
</ion-content>




